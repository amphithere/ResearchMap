/*! jQuery UI - v1.11.4+CommonJS - 2015-08-28
* http://jqueryui.com
* Includes: widget.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):jQuery)}(function(t){/*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
var e=0,i=Array.prototype.slice;t.cleanData=function(e){return function(i){var n,s,o;for(o=0;null!=(s=i[o]);o++)try{n=t._data(s,"events"),n&&n.remove&&t(s).triggerHandler("remove")}catch(r){}e(i)}}(t.cleanData),t.widget=function(e,i,n){var s,o,r,a,l={},u=e.split(".")[0];return e=e.split(".")[1],s=u+"-"+e,n||(n=i,i=t.Widget),t.expr[":"][s.toLowerCase()]=function(e){return!!t.data(e,s)},t[u]=t[u]||{},o=t[u][e],r=t[u][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new r(t,e)},t.extend(r,o,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(n,function(e,n){return t.isFunction(n)?void(l[e]=function(){var t=function(){return i.prototype[e].apply(this,arguments)},s=function(t){return i.prototype[e].apply(this,t)};return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=s,e=n.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(l[e]=n)}),r.prototype=t.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||e:e},l,{constructor:r,namespace:u,widgetName:e,widgetFullName:s}),o?(t.each(o._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete o._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var n,s,o=i.call(arguments,1),r=0,a=o.length;a>r;r++)for(n in o[r])s=o[r][n],o[r].hasOwnProperty(n)&&void 0!==s&&(t.isPlainObject(s)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],s):t.widget.extend({},s):e[n]=s);return e},t.widget.bridge=function(e,n){var s=n.prototype.widgetFullName||e;t.fn[e]=function(o){var r="string"==typeof o,a=i.call(arguments,1),l=this;return r?this.each(function(){var i,n=t.data(this,s);return"instance"===o?(l=n,!1):n?t.isFunction(n[o])&&"_"!==o.charAt(0)?(i=n[o].apply(n,a),i!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(o||{}),e._init&&e._init()):t.data(this,s,new n(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,s,o,r=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(r={},n=e.split("."),e=n.shift(),n.length){for(s=r[e]=t.widget.extend({},this.options[e]),o=0;o<n.length-1;o++)s[n[o]]=s[n[o]]||{},s=s[n[o]];if(e=n.pop(),1===arguments.length)return void 0===s[e]?null:s[e];s[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];r[e]=i}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,i,n){var s,o=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=s=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),t.each(n,function(n,r){function a(){return e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?o[r]:r).apply(o,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,h=l[2];h?s.delegate(h,u,a):i.bind(u,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(i).undelegate(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,o,r=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(t.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,o){"string"==typeof s&&(s={effect:s});var r,a=s?s===!0||"number"==typeof s?i:s.effect||i:e;s=s||{},"number"==typeof s&&(s={duration:s}),r=!t.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),r&&t.effects&&t.effects.effect[a]?n[e](s):a!==e&&n[a]?n[a](s.duration,s.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}});t.widget}),/*
 * jQuery Iframe Transport Plugin
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t("object"==typeof exports?require("jquery"):window.jQuery)}(function(t){"use strict";var e=0;t.ajaxTransport("iframe",function(i){if(i.async){var n,s,o,r=i.initialIframeSrc||"javascript:false;";return{send:function(a,l){n=t('<form style="display:none;"></form>'),n.attr("accept-charset",i.formAcceptCharset),o=/\?/.test(i.url)?"&":"?","DELETE"===i.type?(i.url=i.url+o+"_method=DELETE",i.type="POST"):"PUT"===i.type?(i.url=i.url+o+"_method=PUT",i.type="POST"):"PATCH"===i.type&&(i.url=i.url+o+"_method=PATCH",i.type="POST"),e+=1,s=t('<iframe src="'+r+'" name="iframe-transport-'+e+'"></iframe>').bind("load",function(){var e,o=t.isArray(i.paramName)?i.paramName:[i.paramName];s.unbind("load").bind("load",function(){var e;try{if(e=s.contents(),!e.length||!e[0].firstChild)throw new Error}catch(i){e=void 0}l(200,"success",{iframe:e}),t('<iframe src="'+r+'"></iframe>').appendTo(n),window.setTimeout(function(){n.remove()},0)}),n.prop("target",s.prop("name")).prop("action",i.url).prop("method",i.type),i.formData&&t.each(i.formData,function(e,i){t('<input type="hidden"/>').prop("name",i.name).val(i.value).appendTo(n)}),i.fileInput&&i.fileInput.length&&"POST"===i.type&&(e=i.fileInput.clone(),i.fileInput.after(function(t){return e[t]}),i.paramName&&i.fileInput.each(function(e){t(this).prop("name",o[e]||i.paramName)}),n.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),i.fileInput.removeAttr("form")),n.submit(),e&&e.length&&i.fileInput.each(function(i,n){var s=t(e[i]);t(n).prop("name",s.prop("name")).attr("form",s.attr("form")),s.replaceWith(n)})}),n.append(s).appendTo(document.body)},abort:function(){s&&s.unbind("load").prop("src",r),n&&n.remove()}}}}),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&t.parseJSON(t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe xml":function(e){var i=e&&e[0];return i&&t.isXMLDoc(i)?i:t.parseXML(i.XMLDocument&&i.XMLDocument.xml||t(i.body).html())},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})}),/*
 * jQuery File Upload Plugin
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],t):"object"==typeof exports?t(require("jquery"),require("./vendor/jquery.ui.widget")):t(window.jQuery)}(function(t){"use strict";function e(e){var i="dragover"===e;return function(n){n.dataTransfer=n.originalEvent&&n.originalEvent.dataTransfer;var s=n.dataTransfer;s&&-1!==t.inArray("Files",s.types)&&this._trigger(e,t.Event(e,{delegatedEvent:n}))!==!1&&(n.preventDefault(),i&&(s.dropEffect="copy"))}}t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file">').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,i){return e=this.messages[e]||e.toString(),i&&t.each(i,function(t,i){e=e.replace("{"+t+"}",i)}),e},formData:function(t){return t.serializeArray()},add:function(e,i){return e.isDefaultPrevented()?!1:void((i.autoUpload||i.autoUpload!==!1&&t(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,i){var n=t-this.timestamp;return(!this.bitrate||!i||n>i)&&(this.bitrate=(e-this.loaded)*(1e3/n)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var i;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(i=[],t.each(e.formData,function(t,e){i.push({name:t,value:e})}),i):[]},_getTotal:function(e){var i=0;return t.each(e,function(t,e){i+=e.size||1}),i},_initProgressObject:function(e){var i={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,i):e._progress=i},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,i){if(e.lengthComputable){var n,s=Date.now?Date.now():(new Date).getTime();if(i._time&&i.progressInterval&&s-i._time<i.progressInterval&&e.loaded!==e.total)return;i._time=s,n=Math.floor(e.loaded/e.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0),this._progress.loaded+=n-i._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(s,this._progress.loaded,i.bitrateInterval),i._progress.loaded=i.loaded=n,i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(s,n,i.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),i),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var i=this,n=e.xhr?e.xhr():t.ajaxSettings.xhr();n.upload&&(t(n.upload).bind("progress",function(t){var n=t.originalEvent;t.lengthComputable=n.lengthComputable,t.loaded=n.loaded,t.total=n.total,i._onProgress(t,e)}),e.xhr=function(){return n})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var i,n=this,s=e.files[0],o=e.multipart||!t.support.xhrFileUpload,r="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),o&&!e.blob&&this._isInstanceOf("File",s)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(s.name)+'"'),o?t.support.xhrFormDataFileUpload&&(e.postMessage?(i=this._getFormData(e),e.blob?i.push({name:r,value:e.blob}):t.each(e.files,function(n,s){i.push({name:"array"===t.type(e.paramName)&&e.paramName[n]||r,value:s})})):(n._isInstanceOf("FormData",e.formData)?i=e.formData:(i=new FormData,t.each(this._getFormData(e),function(t,e){i.append(e.name,e.value)})),e.blob?i.append(r,e.blob,s.name):t.each(e.files,function(s,o){(n._isInstanceOf("File",o)||n._isInstanceOf("Blob",o))&&i.append("array"===t.type(e.paramName)&&e.paramName[s]||r,o,o.uploadName||o.name)})),e.data=i):(e.contentType=s.type||"application/octet-stream",e.data=e.blob||s),e.blob=null},_initIframeSettings:function(e){var i=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&i&&i!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var i=t(e.fileInput),n=e.paramName;return n?t.isArray(n)||(n=[n]):(n=[],i.each(function(){for(var e=t(this),i=e.prop("name")||"files[]",s=(e.prop("files")||[1]).length;s;)n.push(i),s-=1}),n.length||(n=[i.prop("name")||"files[]"])),n},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var i=t.extend({},this.options,e);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,i,n){var s=t.Deferred(),o=s.promise();return i=i||this.options.context||o,e===!0?s.resolveWith(i,n):e===!1&&s.rejectWith(i,n),o.abort=s.promise,this._enhancePromise(o)},_addConvenienceMethods:function(e,i){var n=this,s=function(e){return t.Deferred().resolveWith(n,e).promise()};i.process=function(e,o){return(e||o)&&(i._processQueue=this._processQueue=(this._processQueue||s([this])).pipe(function(){return i.errorThrown?t.Deferred().rejectWith(n,[i]).promise():s(arguments)}).pipe(e,o)),this._processQueue||s([this])},i.submit=function(){return"pending"!==this.state()&&(i.jqXHR=this.jqXHR=n._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)!==!1&&n._onSend(e,this)),this.jqXHR||n._getXHRPromise()},i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",n._trigger("fail",null,this),n._getXHRPromise(!1))},i.state=function(){return this.jqXHR?n._getDeferredState(this.jqXHR):this._processQueue?n._getDeferredState(this._processQueue):void 0},i.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===n._getDeferredState(this._processQueue)},i.progress=function(){return this._progress},i.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),i=e&&e.split("-"),n=i&&i.length>1&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(e,i){e.uploadedBytes=e.uploadedBytes||0;var n,s,o=this,r=e.files[0],a=r.size,l=e.uploadedBytes,u=e.maxChunkSize||a,h=this._blobSlice,c=t.Deferred(),d=c.promise();return this._isXHRUpload(e)&&h&&(l||a>u)&&!e.data?i?!0:l>=a?(r.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",r.error])):(s=function(){var i=t.extend({},e),d=i._progress.loaded;i.blob=h.call(r,l,l+u,r.type),i.chunkSize=i.blob.size,i.contentRange="bytes "+l+"-"+(l+i.chunkSize-1)+"/"+a,o._initXHRData(i),o._initProgressListener(i),n=(o._trigger("chunksend",null,i)!==!1&&t.ajax(i)||o._getXHRPromise(!1,i.context)).done(function(n,r,u){l=o._getUploadedBytes(u)||l+i.chunkSize,d+i.chunkSize-i._progress.loaded&&o._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-i.uploadedBytes,total:l-i.uploadedBytes}),i),e.uploadedBytes=i.uploadedBytes=l,i.result=n,i.textStatus=r,i.jqXHR=u,o._trigger("chunkdone",null,i),o._trigger("chunkalways",null,i),a>l?s():c.resolveWith(i.context,[n,r,u])}).fail(function(t,e,n){i.jqXHR=t,i.textStatus=e,i.errorThrown=n,o._trigger("chunkfail",null,i),o._trigger("chunkalways",null,i),c.rejectWith(i.context,[t,e,n])})},this._enhancePromise(d),d.abort=function(){return n.abort()},s(),d):!1},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,i,n,s){var o=s._progress.total,r=s._response;s._progress.loaded<o&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:o,total:o}),s),r.result=s.result=e,r.textStatus=s.textStatus=i,r.jqXHR=s.jqXHR=n,this._trigger("done",null,s)},_onFail:function(t,e,i,n){var s=n._response;n.recalculateProgress&&(this._progress.loaded-=n._progress.loaded,this._progress.total-=n._progress.total),s.jqXHR=n.jqXHR=t,s.textStatus=n.textStatus=e,s.errorThrown=n.errorThrown=i,this._trigger("fail",null,n)},_onAlways:function(t,e,i,n){this._trigger("always",null,n)},_onSend:function(e,i){i.submit||this._addConvenienceMethods(e,i);var n,s,o,r,a=this,l=a._getAJAXSettings(i),u=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,n=n||((s||a._trigger("send",t.Event("send",{delegatedEvent:e}),l)===!1)&&a._getXHRPromise(!1,l.context,s)||a._chunkedUpload(l)||t.ajax(l)).done(function(t,e,i){a._onDone(t,e,i,l)}).fail(function(t,e,i){a._onFail(t,e,i,l)}).always(function(t,e,i){if(a._onAlways(t,e,i,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var n=a._slots.shift();n;){if("pending"===a._getDeferredState(n)){n.resolve();break}n=a._slots.shift()}0===a._active&&a._trigger("stop")})};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=t.Deferred(),this._slots.push(o),r=o.pipe(u)):(this._sequence=this._sequence.pipe(u,u),r=this._sequence),r.abort=function(){return s=[void 0,"abort","abort"],n?n.abort():(o&&o.rejectWith(l.context,s),u())},this._enhancePromise(r)):u()},_onAdd:function(e,i){var n,s,o,r,a=this,l=!0,u=t.extend({},this.options,i),h=i.files,c=h.length,d=u.limitMultiFileUploads,p=u.limitMultiFileUploadSize,f=u.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(u),v=0;if(!c)return!1;if(p&&void 0===h[0].size&&(p=void 0),(u.singleFileUploads||d||p)&&this._isXHRUpload(u))if(u.singleFileUploads||p||!d)if(!u.singleFileUploads&&p)for(o=[],n=[],r=0;c>r;r+=1)m+=h[r].size+f,(r+1===c||m+h[r+1].size+f>p||d&&r+1-v>=d)&&(o.push(h.slice(v,r+1)),s=g.slice(v,r+1),s.length||(s=g),n.push(s),v=r+1,m=0);else n=g;else for(o=[],n=[],r=0;c>r;r+=d)o.push(h.slice(r,r+d)),s=g.slice(r,r+d),s.length||(s=g),n.push(s);else o=[h],n=[g];return i.originalFiles=h,t.each(o||h,function(s,r){var u=t.extend({},i);return u.files=o?r:[r],u.paramName=n[s],a._initResponseObject(u),a._initProgressObject(u),a._addConvenienceMethods(e,u),l=a._trigger("add",t.Event("add",{delegatedEvent:e}),u)}),l},_replaceFileInput:function(e){var i=e.fileInput,n=i.clone(!0),s=i.is(document.activeElement);e.fileInputClone=n,t("<form></form>").append(n)[0].reset(),i.after(n).detach(),s&&n.focus(),t.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(t,e){return e===i[0]?n[0]:e}),i[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(e,i){var n,s=this,o=t.Deferred(),r=function(t){t&&!t.entry&&(t.entry=e),o.resolve([t])},a=function(t){s._handleFileTreeEntries(t,i+e.name+"/").done(function(t){o.resolve(t)}).fail(r)},l=function(){n.readEntries(function(t){t.length?(u=u.concat(t),l()):a(u)},r)},u=[];return i=i||"",e.isFile?e._file?(e._file.relativePath=i,o.resolve(e._file)):e.file(function(t){t.relativePath=i,o.resolve(t)},r):e.isDirectory?(n=e.createReader(),l()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(e,i){var n=this;return t.when.apply(t,t.map(e,function(t){return n._handleFileTreeEntry(t,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){e=e||{};var i=e.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(t.map(i,function(t){var e;return t.webkitGetAsEntry?(e=t.webkitGetAsEntry(),e&&(e._file=t.getAsFile()),e):t.getAsEntry()})):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){e=t(e);var i,n,s=e.prop("webkitEntries")||e.prop("entries");if(s&&s.length)return this._handleFileTreeEntries(s);if(i=t.makeArray(e.prop("files")),i.length)void 0===i[0].name&&i[0].fileName&&t.each(i,function(t,e){e.name=e.fileName,e.size=e.fileSize});else{if(n=e.prop("value"),!n)return t.Deferred().resolve([]).promise();i=[{name:n.replace(/^.*\\/,"")}]}return t.Deferred().resolve(i).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(e){var i=this,n={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(n.fileInput).always(function(s){n.files=s,i.options.replaceFileInput&&i._replaceFileInput(n),i._trigger("change",t.Event("change",{delegatedEvent:e}),n)!==!1&&i._onAdd(e,n)})},_onPaste:function(e){var i=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,n={files:[]};i&&i.length&&(t.each(i,function(t,e){var i=e.getAsFile&&e.getAsFile();i&&n.files.push(i)}),this._trigger("paste",t.Event("paste",{delegatedEvent:e}),n)!==!1&&this._onAdd(e,n))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var i=this,n=e.dataTransfer,s={};n&&n.files&&n.files.length&&(e.preventDefault(),this._getDroppedFiles(n).always(function(n){s.files=n,i._trigger("drop",t.Event("drop",{delegatedEvent:e}),s)!==!1&&i._onAdd(e,s)}))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,i){var n=-1!==t.inArray(e,this._specialOptions);n&&this._destroyEventHandlers(),this._super(e,i),n&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),i=e.pop();return e.shift(),new RegExp(e.join("/"),i)},_isRegExpOption:function(e,i){return"url"!==e&&"string"===t.type(i)&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var e=this,i=this.options,n=this.element.data();t.each(this.element[0].attributes,function(t,s){var o,r=s.name.toLowerCase();/^data-/.test(r)&&(r=r.slice(5).replace(/-[a-z]/g,function(t){return t.charAt(1).toUpperCase()}),o=n[r],e._isRegExpOption(r,o)&&(o=e._getRegExp(o)),i[r]=o)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var i=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always(function(t){e.files=t,i._onAdd(null,e)}):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var i,n,s=this,o=t.Deferred(),r=o.promise();return r.abort=function(){return n=!0,i?i.abort():(o.reject(null,"abort","abort"),r)},this._getFileInputFiles(e.fileInput).always(function(t){if(!n){if(!t.length)return void o.reject();e.files=t,i=s._onSend(null,e),i.then(function(t,e,i){o.resolve(t,e,i)},function(t,e,i){o.reject(t,e,i)})}}),this._enhancePromise(r)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})});/**
 * Cloudinary's JavaScript library - Version 2.0.8
 * Copyright Cloudinary
 * see https://github.com/cloudinary/cloudinary_js
 *
 */
var extend=function(t,e){function i(){this.constructor=t}for(var n in e)hasProp.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty;!function(t,e){return"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):(t.cloudinary||(t.cloudinary={}),t.cloudinary=e(jQuery))}(this,function(t){var e,i,n,s,o,r,a,l,u,h,c,d,p,f,m,g,v,y,_,b,w,k,D,C,x,E,S,T,M,N,O,I,P,A,R,j,F,z,H,L,W,B,U,V;return T=function(e,i){return t(e).data(i)},H=function(e,i,n){return t(e).data(i,n)},S=function(e,i){return t(e).attr(i)},F=function(e,i,n){return t(e).attr(i,n)},j=function(e,i){return t(e).removeAttr(i)},z=function(e,i){return t(e).attr(i)},M=function(e,i){return t(e).hasClass(i)},g=function(e,i){return t(e).addClass(i)},U=function(e){return t(e).width()},O=function(e){return null==e||(t.isArray(e)||f.isString(e))&&0===e.length||t.isPlainObject(e)&&t.isEmptyObject(e)},v=function(t){var e,i,n;for(i=0,n=t.length;n>i;i++)if(e=t[i],!f.isString(e))return!1;return!0},I=function(t){return"string"==typeof t||"[object String]"===(null!=t?t.toString():void 0)},P=function(){var e,i;return e=function(){var t,e,n;for(n=[],t=0,e=arguments.length;e>t;t++)i=arguments[t],n.push(i);return n}.apply(this,arguments),e.unshift(!0),t.extend.apply(this,e)},R=function(){var t,e;return e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),y=function(t){var e,i,n;return n=t.match(R),n=function(){var t,s,o;for(o=[],e=t=0,s=n.length;s>t;e=++t)i=n[e],i=i.toLocaleLowerCase(),e?o.push(i.charAt(0).toLocaleUpperCase()+i.slice(1)):o.push(i);return o}(),n.join("")},L=function(t){var e,i,n;return n=t.match(R),n=function(){var t,s,o;for(o=[],e=t=0,s=n.length;s>t;e=++t)i=n[e],o.push(i.toLocaleLowerCase());return o}(),n.join("_")},w=function(t){var e,i,n,s;for(s=[],i=0,n=t.length;n>i;i++)e=t[i],e&&s.push(e);return s},_=function(){var e;return e=t.makeArray(arguments),e.unshift({}),e.unshift(!0),t.extend.apply(this,e)},k=function(t,e){var i,n,s;for(n=0,s=t.length;s>n;n++)if(i=t[n],i===e)return!0;return!1},C=function(){var e,i,n,s,o;if(i=[],1===arguments.length)return arguments[0];for(s=0,o=arguments.length;o>s;s++)e=arguments[s],i.unshift(e);return n=i.pop(),i.unshift(n),t.extend.apply(this,i)},x=function(t,e){var i,n,s,o;for(o=[],n=0,s=t.length;s>n;n++)i=t[n],k(e,i)||o.push(i);return o},E=function(e){var i,n;n=[];for(i in e)t.isFunction(e[i])&&n.push(i);return n},N=function(t){return t},V=function(t,e){var i,n,s;for(s=[],i=-1,n=t.length;++i<n;)t[i]!==e&&s.push(t[i]);return s},f={hasClass:M,addClass:g,getAttribute:S,setAttribute:F,removeAttribute:j,setAttributes:z,getData:T,setData:H,width:U,allStrings:v,isString:I,isArray:t.isArray,isEmpty:O,assign:t.extend,merge:P,camelCase:y,snakeCase:L,cloneDeep:_,compact:w,contains:k,defaults:C,difference:x,isFunction:t.isFunction,functions:E,identity:N,isPlainObject:t.isPlainObject,trim:t.trim,without:V},W=function(t){var e,i,n,s,o,r,a,l;if(null===t||"undefined"==typeof t)return"";for(r=t+"",l="",o=void 0,n=void 0,a=0,o=n=0,a=r.length,s=0;a>s;)e=r.charCodeAt(s),i=null,128>e?n++:i=e>127&&2048>e?String.fromCharCode(e>>6|192,63&e|128):String.fromCharCode(e>>12|224,e>>6&63|128,63&e|128),null!==i&&(n>o&&(l+=r.slice(o,n)),l+=i,o=n=s+1),s++;return n>o&&(l+=r.slice(o,a)),l},D=function(t){var e,i,n,s,o,r;for(t=W(t),s="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",e=0,o=0,r=0,e=-1^e,i=0,n=t.length;n>i;)r=255&(e^t.charCodeAt(i)),o="0x"+s.substr(9*r,8),e=e>>>8^o,i++;return e=-1^e,0>e&&(e+=4294967296),e},l=function(){function t(t,e,i){null==i&&(i=f.identity),this.name=t,this["short"]=e,this.process=i}return t.prototype.set=function(t){return this.origValue=t,this},t.prototype.serialize=function(){var t,e;return t=this.value(),e=f.isArray(t)||f.isPlainObject(t)||f.isString(t)?!f.isEmpty(t):null!=t,null!=this["short"]&&e?this["short"]+"_"+t:""},t.prototype.value=function(){return this.process(this.origValue)},t.norm_color=function(t){return null!=t?t.replace(/^#/,"rgb:"):void 0},t.prototype.build_array=function(t){return null==t&&(t=[]),f.isArray(t)?t:[t]},t.process_video_params=function(t){var e;switch(t.constructor){case Object:return e="","codec"in t&&(e=t.codec,"profile"in t&&(e+=":"+t.profile,"level"in t&&(e+=":"+t.level))),e;case String:return t;default:return null}},t}(),e=function(t){function e(t,i,n,s){null==n&&(n="."),this.sep=n,e.__super__.constructor.call(this,t,i,s)}return extend(e,t),e.prototype.serialize=function(){var t,e,i;return null!=this["short"]?(t=this.value(),f.isEmpty(t)?"":(e=function(){var t,e,n,s;for(n=this.value(),s=[],t=0,e=n.length;e>t;t++)i=n[t],f.isFunction(i.serialize)?s.push(i.serialize()):s.push(i);return s}.call(this),this["short"]+"_"+e.join(this.sep))):""},e.prototype.set=function(t){return null==t||f.isArray(t)?e.__super__.set.call(this,t):e.__super__.set.call(this,[t])},e}(l),p=function(t){function e(t,i,n,s){null==i&&(i="t"),null==n&&(n="."),this.sep=n,e.__super__.constructor.call(this,t,i,s)}return extend(e,t),e.prototype.serialize=function(){var t,e,i;return f.isEmpty(this.value())?"":f.allStrings(this.value())?(t=this.value().join(this.sep),f.isEmpty(t)?"":this["short"]+"_"+t):(e=function(){var t,e,n,s;for(n=this.value(),s=[],t=0,e=n.length;e>t;t++)i=n[t],null!=i&&(f.isString(i)&&!f.isEmpty(i)?s.push(this["short"]+"_"+i):f.isFunction(i.serialize)?s.push(i.serialize()):f.isPlainObject(i)&&!f.isEmpty(i)?s.push(new c(i).serialize()):s.push(void 0));return s}.call(this),f.compact(e))},e.prototype.set=function(t){return this.origValue=t,f.isArray(this.origValue)?e.__super__.set.call(this,this.origValue):e.__super__.set.call(this,[this.origValue])},e}(l),u=function(t){function e(t,i,n){null==n&&(n=this.norm_range_value),e.__super__.constructor.call(this,t,i,n)}return extend(e,t),e.norm_range_value=function(t){var e,i;return i=String(t).match(new RegExp("^"+offset_any_pattern+"$")),i&&(e=null!=i[5]?"p":"",t=(i[1]||i[4])+e),t},e}(l),h=function(t){function e(t,i,n){null==n&&(n=f.identity),e.__super__.constructor.call(this,t,i,n)}return extend(e,t),e.prototype.serialize=function(){return this.value()},e}(l),A={},A.Param=l,A.ArrayParam=e,A.RangeParam=u,A.RawParam=h,A.TransformationParam=p,s=function(){function t(t){this.predicate_list=[],null!=t&&this.predicate_list.push(this.normalize(t))}return t.OPERATORS={"=":"eq","!=":"ne","<":"lt",">":"gt","<=":"lte",">=":"gte","&&":"and","||":"or"},t.PARAMETERS={width:"w",height:"h",aspect_ratio:"ar",aspectRatio:"ar",page_count:"pc",pageCount:"pc",face_count:"fc",faceCount:"fc"},t.BOUNDRY="[ _]+",t["new"]=function(t){return new this(t)},t.prototype.normalize=function(e){var i;return i=new RegExp("("+Object.keys(t.PARAMETERS).join("|")+"|[=<>&|!]+)","g"),e=e.replace(i,function(e){return t.OPERATORS[e]||t.PARAMETERS[e]}),e.replace(/[ _]+/g,"_")},t.prototype.getParent=function(){return this.parent},t.prototype.setParent=function(t){return this.parent=t,this},t.prototype.toString=function(){return this.predicate_list.join("_")},t.prototype.predicate=function(e,i,n){return null!=t.OPERATORS[i]&&(i=t.OPERATORS[i]),this.predicate_list.push(e+"_"+i+"_"+n),this},t.prototype.and=function(){return this.predicate_list.push("and"),this},t.prototype.or=function(){return this.predicate_list.push("or"),this},t.prototype.then=function(){return this.getParent()["if"](this.toString())},t.prototype.height=function(t,e){return this.predicate("h",t,e)},t.prototype.width=function(t,e){return this.predicate("w",t,e)},t.prototype.aspectRatio=function(t,e){return this.predicate("ar",t,e)},t.prototype.pageCount=function(t,e){return this.predicate("pc",t,e)},t.prototype.faceCount=function(t,e){return this.predicate("fc",t,e)},t}(),d=function(){function t(n){var s,r,a;null==n&&(n={}),r=void 0,a={},this.toOptions||(this.toOptions=function(t){var e,i,n,s,o,r;null==t&&(t=!0),n={};for(e in a)r=a[e],n[e]=r.origValue;s=this.otherOptions;for(e in s)r=s[e],void 0!==r&&(n[e]=r);return t&&!f.isEmpty(this.chained)&&(i=function(){var t,e,i,n;for(i=this.chained,n=[],t=0,e=i.length;e>t;t++)o=i[t],n.push(o.toOptions());return n}.call(this),i.push(n),n={transformation:i}),n}),this.setParent||(this.setParent=function(t){return r=t,null!=t&&this.fromOptions("function"==typeof t.toOptions?t.toOptions():void 0),this}),this.getParent||(this.getParent=function(){return r}),this.param||(this.param=function(t,e,i,n,s){return null==s&&(s=f.isFunction(n)?n:f.identity),a[e]=new l(e,i,s).set(t),this}),this.rawParam||(this.rawParam=function(t,e,n,s,o){return null==o&&(o=f.identity),o=i(arguments),a[e]=new h(e,n,o).set(t),this}),this.rangeParam||(this.rangeParam=function(t,e,n,s,o){return null==o&&(o=f.identity),o=i(arguments),a[e]=new u(e,n,o).set(t),this}),this.arrayParam||(this.arrayParam=function(t,n,s,o,r,l){return null==o&&(o=":"),null==r&&(r=[]),null==l&&(l=f.identity),l=i(arguments),a[n]=new e(n,s,o,l).set(t),this}),this.transformationParam||(this.transformationParam=function(t,e,n,s,o,r){return null==s&&(s="."),null==r&&(r=f.identity),r=i(arguments),a[e]=new p(e,n,s,r).set(t),this}),this.getValue||(this.getValue=function(t){var e,i;return null!=(e=null!=(i=a[t])?i.value():void 0)?e:this.otherOptions[t]}),this.get||(this.get=function(t){return a[t]}),this.remove||(this.remove=function(t){var e;switch(!1){case null==a[t]:return e=a[t],delete a[t],e.origValue;case null==this.otherOptions[t]:return e=this.otherOptions[t],delete this.otherOptions[t],e;default:return null}}),this.keys||(this.keys=function(){var t;return function(){var e;e=[];for(t in a)e.push(f.snakeCase(t));return e}().sort()}),this.toPlainObject||(this.toPlainObject=function(){var t,e,i,n;t={};for(e in a)t[e]=a[e].value(),f.isPlainObject(t[e])&&(t[e]=f.cloneDeep(t[e]));return f.isEmpty(this.chained)||(i=function(){var t,e,i,s;for(i=this.chained,s=[],t=0,e=i.length;e>t;t++)n=i[t],s.push(n.toPlainObject());return s}.call(this),i.push(t),t={transformation:i}),t}),this.chain||(this.chain=function(){var t,e;return t=Object.getOwnPropertyNames(a),0!==t.length&&(e=new this.constructor(this.toOptions(!1)),this.resetTransformations(),this.chained.push(e)),this}),this.resetTransformations||(this.resetTransformations=function(){return a={},this}),this.otherOptions||(this.otherOptions={}),this.methods||(this.methods=f.difference(f.functions(c.prototype),f.functions(t.prototype))),this.PARAM_NAMES||(this.PARAM_NAMES=function(){var t,e,i,n;for(i=this.methods,n=[],t=0,e=i.length;e>t;t++)s=i[t],n.push(f.snakeCase(s));return n}.call(this).concat(o.CONFIG_PARAMS)),this.chained=[],f.isEmpty(n)||this.fromOptions(n)}var i;return t.prototype.trans_separator="/",t.prototype.param_separator=",",i=function(t){var e;return e=null!=t?t[t.length-1]:void 0,f.isFunction(e)?e:void 0},t.prototype.fromOptions=function(e){var i,n;if(e instanceof t)this.fromTransformation(e);else{e||(e={}),(f.isString(e)||f.isArray(e))&&(e={transformation:e}),e=f.cloneDeep(e,function(e){return e instanceof t?new e.constructor(e.toOptions()):void 0});for(i in e)n=e[i],this.set(i,n)}return this},t.prototype.fromTransformation=function(e){var i,n,s,o;if(e instanceof t)for(o=e.keys(),i=0,s=o.length;s>i;i++)n=o[i],this.set(n,e.get(n).origValue);return this},t.prototype.set=function(t,e){var i;return i=f.camelCase(t),f.contains(this.methods,i)?this[i](e):this.otherOptions[t]=e,this},t.prototype.hasLayer=function(){return this.getValue("overlay")||this.getValue("underlay")},t.prototype.serialize=function(){var t,e,i,n,s,o,r,a,l,u,h;switch(s=function(){var t,e,i,n;for(i=this.chained,n=[],t=0,e=i.length;e>t;t++)r=i[t],n.push(r.serialize());return n}.call(this),e=this.keys(),u=null!=(i=this.get("transformation"))?i.serialize():void 0,t=null!=(n=this.get("if"))?n.serialize():void 0,e=f.difference(e,["transformation","if"]),a=function(){var t,i,n,s;for(s=[],t=0,i=e.length;i>t;t++)o=e[t],s.push(null!=(n=this.get(o))?n.serialize():void 0);return s}.call(this),!1){case!f.isString(u):a.push(u);break;case!f.isArray(u):s=s.concat(u)}return a=function(){var t,e,i;for(i=[],t=0,e=a.length;e>t;t++)h=a[t],(f.isArray(h)&&!f.isEmpty(h)||!f.isArray(h)&&h)&&i.push(h);return i}().sort(),"if_end"===t?a.push(t):f.isEmpty(t)||a.unshift(t),l=a.join(this.param_separator),f.isEmpty(l)||s.push(l),f.compact(s).join(this.trans_separator)},t.prototype.listNames=function(){return this.methods},t.prototype.toHtmlAttributes=function(){var t,e,i,n,s,o,r,a,l,u,h;o={},r=this.otherOptions;for(n in r)h=r[n],f.contains(this.PARAM_NAMES,n)||(t=/^html_/.test(n)?n.slice(5):n,o[t]=h);for(a=this.keys(),i=0,s=a.length;s>i;i++)n=a[i],/^html_/.test(n)&&(o[n.slice(5)]=this.getValue(n));return this.hasLayer()||this.getValue("angle")||f.contains(["fit","limit","lfill"],this.getValue("crop"))||(U=null!=(l=this.get("width"))?l.origValue:void 0,e=null!=(u=this.get("height"))?u.origValue:void 0,parseFloat(U)>=1&&null==o.width&&(o.width=U),parseFloat(e)>=1&&null==o.height&&(o.height=e)),o},t.prototype.isValidParamName=function(t){return this.methods.indexOf(f.camelCase(t))>=0},t.prototype.toHtml=function(){var t;return null!=(t=this.getParent())&&"function"==typeof t.toHtml?t.toHtml():void 0},t.prototype.toString=function(){return this.serialize()},t}(),c=function(t){function e(t){null==t&&(t={}),e.__super__.constructor.call(this,t)}return extend(e,t),e["new"]=function(t){return new e(t)},e.prototype.angle=function(t){return this.arrayParam(t,"angle","a",".")},e.prototype.audioCodec=function(t){return this.param(t,"audio_codec","ac")},e.prototype.audioFrequency=function(t){return this.param(t,"audio_frequency","af")},e.prototype.aspectRatio=function(t){return this.param(t,"aspect_ratio","ar")},e.prototype.background=function(t){return this.param(t,"background","b",l.norm_color)},e.prototype.bitRate=function(t){return this.param(t,"bit_rate","br")},e.prototype.border=function(t){return this.param(t,"border","bo",function(t){return f.isPlainObject(t)?(t=f.assign({},{color:"black",width:2},t),t.width+"px_solid_"+l.norm_color(t.color)):t})},e.prototype.color=function(t){return this.param(t,"color","co",l.norm_color)},e.prototype.colorSpace=function(t){return this.param(t,"color_space","cs")},e.prototype.crop=function(t){return this.param(t,"crop","c")},e.prototype.defaultImage=function(t){return this.param(t,"default_image","d")},e.prototype.delay=function(t){return this.param(t,"delay","l")},e.prototype.density=function(t){return this.param(t,"density","dn")},e.prototype.duration=function(t){return this.rangeParam(t,"duration","du")},e.prototype.dpr=function(t){return this.param(t,"dpr","dpr",function(t){return t=t.toString(),"auto"===t?"1.0":(null!=t?t.match(/^\d+$/):void 0)?t+".0":t})},e.prototype.effect=function(t){return this.arrayParam(t,"effect","e",":")},e.prototype["else"]=function(){return this["if"]("else")},e.prototype.endIf=function(){return this["if"]("end")},e.prototype.endOffset=function(t){return this.rangeParam(t,"end_offset","eo")},e.prototype.fallbackContent=function(t){return this.param(t,"fallback_content")},e.prototype.fetchFormat=function(t){return this.param(t,"fetch_format","f")},e.prototype.format=function(t){return this.param(t,"format")},e.prototype.flags=function(t){return this.arrayParam(t,"flags","fl",".")},e.prototype.gravity=function(t){return this.param(t,"gravity","g")},e.prototype.height=function(t){return this.param(t,"height","h",function(e){return function(){return e.getValue("crop")||e.getValue("overlay")||e.getValue("underlay")?t:null}}(this))},e.prototype.htmlHeight=function(t){return this.param(t,"html_height")},e.prototype.htmlWidth=function(t){return this.param(t,"html_width")},e.prototype["if"]=function(t){var i,n,o,r,a,l;switch(null==t&&(t=""),t){case"else":return this.chain(),this.param(t,"if","if");case"end":for(this.chain(),i=o=r=this.chained.length-1;o>=0&&(n=this.chained[i].getValue("if"),"end"!==n)&&(null==n||(a=e["new"]()["if"](n),this.chained[i].remove("if"),l=this.chained[i],this.chained[i]=e["new"]().transformation([a,l]),"else"===n));i=o+=-1);return this.param(t,"if","if");case"":return s["new"]().setParent(this);default:return this.param(t,"if","if",function(t){return s["new"](t).toString()})}},e.prototype.offset=function(t){var e,i,n;return i=f.isFunction(null!=t?t.split:void 0)?t.split(".."):f.isArray(t)?t:[null,null],n=i[0],e=i[1],null!=n&&this.startOffset(n),null!=e?this.endOffset(e):void 0},e.prototype.opacity=function(t){return this.param(t,"opacity","o")},e.prototype.overlay=function(t){return this.param(t,"overlay","l")},e.prototype.page=function(t){return this.param(t,"page","pg")},e.prototype.poster=function(t){return this.param(t,"poster")},e.prototype.prefix=function(t){return this.param(t,"prefix","p")},e.prototype.quality=function(t){return this.param(t,"quality","q")},e.prototype.radius=function(t){return this.param(t,"radius","r")},e.prototype.rawTransformation=function(t){return this.rawParam(t,"raw_transformation")},e.prototype.size=function(t){var e,i;return f.isFunction(null!=t?t.split:void 0)?(i=t.split("x"),U=i[0],e=i[1],this.width(U),this.height(e)):void 0},e.prototype.sourceTypes=function(t){return this.param(t,"source_types")},e.prototype.sourceTransformation=function(t){return this.param(t,"source_transformation")},e.prototype.startOffset=function(t){return this.rangeParam(t,"start_offset","so")},e.prototype.transformation=function(t){return this.transformationParam(t,"transformation","t")},e.prototype.underlay=function(t){return this.param(t,"underlay","u")},e.prototype.videoCodec=function(t){return this.param(t,"video_codec","vc",l.process_video_params)},e.prototype.videoSampling=function(t){return this.param(t,"video_sampling","vs")},e.prototype.width=function(t){return this.param(t,"width","w",function(e){return function(){return e.getValue("crop")||e.getValue("overlay")||e.getValue("underlay")?t:null}}(this))},e.prototype.x=function(t){return this.param(t,"x","x")},e.prototype.y=function(t){return this.param(t,"y","y")},e.prototype.zoom=function(t){return this.param(t,"zoom","z")},e}(d),o=function(){function t(t){null==t&&(t={}),this.configuration=f.cloneDeep(t),f.defaults(this.configuration,e)}var e,i;return e={responsive_class:"cld-responsive",responsive_use_breakpoints:!0,round_dpr:!0,secure:"https:"===("undefined"!=typeof window&&null!==window&&null!=(i=window.location)?i.protocol:void 0)},t.CONFIG_PARAMS=["api_key","api_secret","cdn_subdomain","cloud_name","cname","private_cdn","protocol","resource_type","responsive_class","responsive_use_breakpoints","responsive_width","round_dpr","secure","secure_cdn_subdomain","secure_distribution","shorten","type","url_suffix","use_root_path","version"],t.prototype.init=function(){return this.fromEnvironment(),this.fromDocument(),this},t.prototype.set=function(t,e){return this.configuration[t]=e,this},t.prototype.get=function(t){return this.configuration[t]},t.prototype.merge=function(t){return null==t&&(t={}),f.assign(this.configuration,f.cloneDeep(t)),this},t.prototype.fromDocument=function(){var t,e,i,n;if(n="undefined"!=typeof document&&null!==document?document.querySelectorAll('meta[name^="cloudinary_"]'):void 0)for(e=0,i=n.length;i>e;e++)t=n[e],this.configuration[t.getAttribute("name").replace("cloudinary_","")]=t.getAttribute("content");return this},t.prototype.fromEnvironment=function(){var t,e,i,n,s,o;if(t="undefined"!=typeof process&&null!==process&&null!=(i=process.env)?i.CLOUDINARY_URL:void 0,null!=t&&(s=require("url").parse(t,!0),this.configuration={cloud_name:s.host,api_key:s.auth&&s.auth.split(":")[0],api_secret:s.auth&&s.auth.split(":")[1],private_cdn:null!=s.pathname,secure_distribution:s.pathname&&s.pathname.substring(1)},null!=s.query)){n=s.query;for(e in n)o=n[e],this.configuration[e]=o}return this},t.prototype.config=function(t,e){switch(!1){case void 0===e:return this.set(t,e),this.configuration;case!f.isString(t):return this.get(t);case!f.isPlainObject(t):return this.merge(t),this.configuration;default:return this.configuration}},t.prototype.toOptions=function(){return f.cloneDeep(this.configuration)},t}(),r=function(){function t(t,e,i){var n;this.name=t,this.publicId=e,null==i&&(f.isPlainObject(e)?(i=e,this.publicId=void 0):i={}),n=new c(i),n.setParent(this),this.transformation=function(){return n}}var e;return t["new"]=function(t,e,i){return new this(t,e,i)},e=function(t,e){return e?e===!0?t:t+'="'+e+'"':void 0},t.prototype.htmlAttrs=function(t){var i,n,s;return n=function(){var n;n=[];for(i in t)s=t[i],s&&n.push(e(i,s));return n}().sort().join(" ")},t.prototype.getOptions=function(){return this.transformation().toOptions()},t.prototype.getOption=function(t){return this.transformation().getValue(t)},t.prototype.attributes=function(){return this.transformation().toHtmlAttributes()},t.prototype.setAttr=function(t,e){return this.transformation().set("html_"+t,e),this},t.prototype.getAttr=function(t){return this.attributes()["html_"+t]||this.attributes()[t]},t.prototype.removeAttr=function(t){var e;return null!=(e=this.transformation().remove("html_"+t))?e:this.transformation().remove(t)},t.prototype.content=function(){return""},t.prototype.openTag=function(){return"<"+this.name+" "+this.htmlAttrs(this.attributes())+">"},t.prototype.closeTag=function(){return"</"+this.name+">"},t.prototype.toHtml=function(){return this.openTag()+this.content()+this.closeTag()},t.prototype.toDOM=function(){var t,e,i,n;if(!f.isFunction("undefined"!=typeof document&&null!==document?document.createElement:void 0))throw"Can't create DOM if document is not present!";t=document.createElement(this.name),i=this.attributes();for(e in i)n=i[e],t[e]=n;return t},t}(),a=function(t){function e(t,i){null==i&&(i={}),e.__super__.constructor.call(this,"img",t,i)}return extend(e,t),e.prototype.closeTag=function(){return""},e.prototype.attributes=function(){var t;return t=e.__super__.attributes.call(this)||[],null==t.src&&(t.src=new i(this.getOptions()).url(this.publicId)),t},e}(r),m=function(t){function e(t,n){null==n&&(n={}),n=f.defaults({},n,i.DEFAULT_VIDEO_PARAMS),e.__super__.constructor.call(this,"video",t.replace(/\.(mp4|ogv|webm)$/,""),n)}var n,s,o;return extend(e,t),o=["source_types","source_transformation","fallback_content","poster"],s=["webm","mp4","ogv"],n={format:"jpg",resource_type:"video"},e.prototype.setSourceTransformation=function(t){return this.transformation().sourceTransformation(t),this},e.prototype.setSourceTypes=function(t){return this.transformation().sourceTypes(t),this},e.prototype.setPoster=function(t){return this.transformation().poster(t),this},e.prototype.setFallbackContent=function(t){return this.transformation().fallbackContent(t),this},e.prototype.content=function(){var t,e,n,s,o,r,a,l,u,h;return r=this.transformation().getValue("source_types"),o=this.transformation().getValue("source_transformation"),e=this.transformation().getValue("fallback_content"),f.isArray(r)?(t=new i(this.getOptions()),n=function(){var e,i,n;for(n=[],e=0,i=r.length;i>e;e++)l=r[e],u=o[l]||{},a=t.url(""+this.publicId,f.defaults({},u,{resource_type:"video",format:l})),h="ogv"===l?"ogg":l,s="video/"+h,n.push("<source "+this.htmlAttrs({src:a,type:s})+">");return n}.call(this)):n=[],n.join("")+e},e.prototype.attributes=function(){var t,s,r,a,l,u,h,c;for(c=this.getOption("source_types"),l=null!=(u=this.getOption("poster"))?u:{},f.isPlainObject(l)&&(C=null!=l.public_id?i.DEFAULT_IMAGE_PARAMS:n,l=new i(this.getOptions()).url(null!=(h=l.public_id)?h:this.publicId,f.defaults({},l,C))),s=e.__super__.attributes.call(this)||[],r=0,a=s.length;a>r;r++)t=s[r],f.contains(o)||(s=t);return f.isArray(c)||(s.src=new i(this.getOptions()).url(this.publicId,{resource_type:"video",format:c})),null!=l&&(s.poster=l),s},e}(r),i=function(){function t(t){var e;this.devicePixelRatioCache={},this.responsiveConfig={},this.responsiveResizeInitialized=!1,e=new o(t),this.config=function(t,i){return e.config(t,i)},this.fromDocument=function(){return e.fromDocument(),this},this.fromEnvironment=function(){return e.fromEnvironment(),this},this.init=function(){return e.init(),this}}var e,i,n,s,r,l,u,h,d,p,g,v,y,_,b;return u="2.0.8",i="d3jpl91pxevbkh.cloudfront.net",r="cloudinary-a.akamaihd.net",e="res.cloudinary.com",l=e,n={format:"jpg",resource_type:"video"},s=["webm","mp4","ogv"],t.DEFAULT_IMAGE_PARAMS={resource_type:"image",transformation:[],type:"upload"},t.DEFAULT_VIDEO_PARAMS={fallback_content:"",resource_type:"video",source_transformation:{},source_types:s,transformation:[],type:"upload"},t["new"]=function(t){return new this(t)},_=function(t,e,i,n,s){var o;if(f.isPlainObject(t)&&(o=t,t=o.resource_type,e=o.type,i=o.url_suffix,n=o.use_root_path,s=o.shorten),null==e&&(e="upload"),null!=i)if("image"===t&&"upload"===e)t="images",e=null;else{if("raw"!==t||"upload"!==e)throw new Error("URL Suffix only supported for image/upload and raw/upload");t="files",e=null}if(n){if(("image"!==t||"upload"!==e)&&"images"!==t)throw new Error("Root path only supported for image/upload");t=null,e=null}return s&&"image"===t&&"upload"===e&&(t="iu",e=null),[t,e].join("/")},h=function(t){var e;return t.match(/^https?:\//)||(e=document.location.protocol+"//"+document.location.host,"?"===t[0]?e+=document.location.pathname:"/"!==t[0]&&(e+=document.location.pathname.replace(/\/[^\/]*$/,"/")),t=e+t),t},t.prototype.url=function(e,i){var n,s,o,r,a,l,u;if(null==i&&(i={}),!e)return e;if(i instanceof c&&(i=i.toOptions()),i=f.defaults({},i,this.config(),t.DEFAULT_IMAGE_PARAMS),"fetch"===i.type&&(i.fetch_format=i.fetch_format||i.format,e=h(e)),r=new c(i),a=r.serialize(),!i.cloud_name)throw"Unknown cloud_name";if(i.url_suffix&&!i.private_cdn)throw"URL Suffix only supported in private CDN";if(e.search("/")>=0&&!e.match(/^v[0-9]+/)&&!e.match(/^https?:\//)&&!(null!=(s=i.version)?s.toString():void 0)&&(i.version=1),e.match(/^https?:/))"upload"===i.type||"asset"===i.type?l=e:e=encodeURIComponent(e).replace(/%3A/g,":").replace(/%2F/g,"/");else{if(e=encodeURIComponent(decodeURIComponent(e)).replace(/%3A/g,":").replace(/%2F/g,"/"),i.url_suffix){if(i.url_suffix.match(/[\.\/]/))throw"url_suffix should not include . or /";e=e+"/"+i.url_suffix}i.format&&(i.trust_public_id||(e=e.replace(/\.(jpg|png|gif|webp)$/,"")),e=e+"."+i.format)}return n=v(e,i),o=_(i.resource_type,i.type,i.url_suffix,i.use_root_path,i.shorten),u=i.version?"v"+i.version:"",l||f.compact([n,o,a,u,e]).join("/").replace(/([^:])\/+/g,"$1/")},t.prototype.video_url=function(t,e){return e=f.assign({resource_type:"video"},e),this.url(t,e)},t.prototype.video_thumbnail_url=function(t,e){return e=f.assign({},n,e),this.url(t,e)},t.prototype.transformation_string=function(t){return new c(t).serialize()},t.prototype.image=function(t,e){var i;return null==e&&(e={}),i=this.imageTag(t,e),null==e.src&&i.setAttr("src",""),i=i.toDOM(),f.setData(i,"src-cache",this.url(t,e)),this.cloudinary_update(i,e),i},t.prototype.imageTag=function(t,e){var i;return i=new a(t,this.config()),i.transformation().fromOptions(e),i},t.prototype.video_thumbnail=function(t,e){return this.image(t,f.merge({},n,e))},t.prototype.facebook_profile_image=function(t,e){return this.image(t,f.assign({type:"facebook"},e))},t.prototype.twitter_profile_image=function(t,e){return this.image(t,f.assign({type:"twitter"},e))},t.prototype.twitter_name_profile_image=function(t,e){return this.image(t,f.assign({type:"twitter_name"},e))},t.prototype.gravatar_image=function(t,e){return this.image(t,f.assign({type:"gravatar"},e))},t.prototype.fetch_image=function(t,e){return this.image(t,f.assign({type:"fetch"},e))},t.prototype.video=function(t,e){return null==e&&(e={}),this.videoTag(t,e).toHtml()},t.prototype.videoTag=function(t,e){return e=f.defaults({},e,this.config()),new m(t,e)},t.prototype.sprite_css=function(t,e){return e=f.assign({type:"sprite"},e),t.match(/.css$/)||(e.format="css"),this.url(t,e)},t.prototype.responsive=function(t,e){var i,n,s,o,r,a;return null==e&&(e=!0),this.responsiveConfig=f.merge(this.responsiveConfig||{},t),o=null!=(i=this.responsiveConfig.responsive_class)?i:this.config("responsive_class"),e&&this.cloudinary_update("img."+o+", img.cld-hidpi",this.responsiveConfig),r=null!=(n=null!=(s=this.responsiveConfig.responsive_resize)?s:this.config("responsive_resize"))?n:!0,r&&!this.responsiveResizeInitialized?(this.responsiveConfig.resizing=this.responsiveResizeInitialized=!0,a=null,window.addEventListener("resize",function(t){return function(){var e,i,n,s,r,l,u;return e=null!=(i=null!=(n=t.responsiveConfig.responsive_debounce)?n:t.config("responsive_debounce"))?i:100,s=function(){return a?(clearTimeout(a),a=null):void 0},r=function(){return t.cloudinary_update("img."+o,t.responsiveConfig)},u=function(){return s(),r()},l=function(){return s(),a=setTimeout(u,e)},e?l():r()}}(this))):void 0},t.prototype.calc_breakpoint=function(t,e){var i,n;return i=f.getData(t,"breakpoints")||f.getData(t,"stoppoints")||this.config("breakpoints")||this.config("stoppoints")||y,f.isFunction(i)?i(e):(f.isString(i)&&(i=function(){var t,e,s,o;for(s=i.split(","),o=[],t=0,e=s.length;e>t;t++)n=s[t],o.push(parseInt(n));return o}().sort(function(t,e){return t-e})),g(i,e))},t.prototype.calc_stoppoint=t.prototype.calc_breakpoint,t.prototype.device_pixel_ratio=function(t){var e,i;return null==t&&(t=!0),e=("undefined"!=typeof window&&null!==window?window.devicePixelRatio:void 0)||1,t&&(e=Math.ceil(e)),(0>=e||NaN===e)&&(e=1),i=e.toString(),i.match(/^\d+$/)&&(i+=".0"),i},y=function(t){return 100*Math.ceil(t/100)},g=function(t,e){var i;for(i=t.length-2;i>=0&&t[i]>=e;)i--;return t[i+1]},p=function(t){return D(t)%5+1},v=function(t,e){var i,n,s,o,a,u;return 0===(null!=(a=e.cloud_name)?a.indexOf("/"):void 0)?"/res"+e.cloud_name:(o="http://",i="",u="res",n=".cloudinary.com",s="/"+e.cloud_name,e.protocol&&(o=e.protocol+"//"),e.private_cdn&&(i=e.cloud_name+"-",s=""),e.cdn_subdomain&&(u="res-"+p(t)),e.secure?(o="https://",e.secure_cdn_subdomain===!1&&(u="res"),null!=e.secure_distribution&&e.secure_distribution!==r&&e.secure_distribution!==l&&(i="",u="",n=e.secure_distribution)):e.cname&&(o="http://",i="",u=e.cdn_subdomain?"a"+(D(t)%5+1)+".":"",n=e.cname),[o,i,u,n,s].join(""))},t.prototype.processImageTags=function(t,e){var i,n,s,o,r;return null==e&&(e={}),e=f.defaults({},e,this.config()),i=function(){var i,a,l,u;for(u=[],i=0,a=t.length;a>i;i++)s=t[i],"IMG"===(null!=(l=s.tagName)?l.toUpperCase():void 0)&&(n=f.assign({width:s.getAttribute("width"),height:s.getAttribute("height"),src:s.getAttribute("src")},e),o=n.source||n.src,delete n.source,delete n.src,r=this.url(o,n),n=new c(n).toHtmlAttributes(),
f.setData(s,"src-cache",r),s.setAttribute("width",n.width),u.push(s.setAttribute("height",n.height)));return u}.call(this),this.cloudinary_update(i,e),this},d=function(t,e,i){var n,s,o,r;return r=null!=(n=null!=(s=null!=(o=i.responsive_use_breakpoints)?o:i.responsive_use_stoppoints)?s:this.config("responsive_use_breakpoints"))?n:this.config("responsive_use_stoppoints"),!r||"resize"===r&&!i.resizing?e:this.calc_breakpoint(t,e)},b=function(t){var e,i;for(e=0;(t=null!=t?t.parentNode:void 0)instanceof Element&&!e;)i=window.getComputedStyle(t),/^inline/.test(i.display)||(e=f.width(t));return e},t.prototype.cloudinary_update=function(t,e){var i,n,s,o,r,a,l,u,h,c,p,m,g,v;for(null==e&&(e={}),t=function(){switch(!1){case!f.isArray(t):return t;case"NodeList"!==t.constructor.name:return t;case!f.isString(t):return document.querySelectorAll(t);default:return[t]}}(),c=null!=(r=null!=(a=this.responsiveConfig.responsive_class)?a:e.responsive_class)?r:this.config("responsive_class"),p=null!=(l=e.round_dpr)?l:this.config("round_dpr"),s=0,o=t.length;o>s;s++)v=t[s],(null!=(u=v.tagName)?u.match(/img/i):void 0)&&(m=!0,e.responsive&&f.addClass(v,c),g=f.getData(v,"src-cache")||f.getData(v,"src"),f.isEmpty(g)||(g=g.replace(/\bdpr_(1\.0|auto)\b/g,"dpr_"+this.device_pixel_ratio(p)),f.hasClass(v,c)&&/\bw_auto\b/.exec(g)&&(i=b(v),0!==i?(h=d.call(this,v,i,e),n=f.getData(v,"width")||0,h>n&&(n=h,f.setData(v,"width",h)),g=g.replace(/\bw_auto\b/g,"w_"+n),f.removeAttribute(v,"width"),e.responsive_preserve_height||f.removeAttribute(v,"height")):m=!1),m&&f.setAttribute(v,"src",g)));return this},t.prototype.transformation=function(t){return c["new"](this.config()).fromOptions(t).setParent(this)},t}(),n=function(e){function i(t){i.__super__.constructor.call(this,t)}return extend(i,e),i.prototype.image=function(e,i){var n,s,o;return null==i&&(i={}),s=f.merge({src:""},i),n=this.imageTag(e,s).toHtml(),o=this.url(e,i),t(n).data("src-cache",o).cloudinary_update(i)},i.prototype.responsive=function(e){var i,n,s,o,r,a,l,u;return r=t.extend(r||{},e),o=null!=(i=this.responsiveConfig.responsive_class)?i:this.config("responsive_class"),t("img."+o+", img.cld-hidpi").cloudinary_update(r),l=null!=(n=null!=(s=r.responsive_resize)?s:this.config("responsive_resize"))?n:!0,l&&!a?(r.resizing=a=!0,u=null,t(window).on("resize",function(e){return function(){var i,n,s,a,l,h;return i=null!=(n=null!=(s=r.responsive_debounce)?s:e.config("responsive_debounce"))?n:100,a=function(){return u?(clearTimeout(u),u=null):void 0},l=function(){return t("img."+o).cloudinary_update(r)},h=function(){return a(),setTimeout(function(){return a(),l()},i)},i?h():l()}}(this))):void 0},i}(i),t.fn.cloudinary=function(e){return this.filter("img").each(function(){var i,n,s;return i=t.extend({width:t(this).attr("width"),height:t(this).attr("height"),src:t(this).attr("src")},t(this).data(),e),n=i.source||i.src,delete i.source,delete i.src,s=t.cloudinary.url(n,i),i=new c(i).toHtmlAttributes(),t(this).data("src-cache",s).attr({width:i.width,height:i.height})}).cloudinary_update(e),this},t.fn.cloudinary_update=function(e){return null==e&&(e={}),t.cloudinary.cloudinary_update(this.filter("img").toArray(),e),this},B=null,t.fn.webpify=function(e,i){var n,s;return null==e&&(e={}),n=this,i=null!=i?i:e,B||(B=t.Deferred(),s=new Image,s.onerror=B.reject,s.onload=B.resolve,s.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA"),t(function(){return B.done(function(){return t(n).cloudinary(t.extend({},i,{format:"webp"}))}).fail(function(){return t(n).cloudinary(e)})}),this},t.fn.fetchify=function(e){return this.cloudinary(t.extend(e,{type:"fetch"}))},t.cloudinary=new n,t.cloudinary.fromDocument(),n.prototype.delete_by_token=function(e,i){var n,s,o;return i=i||{},o=i.url,o||(n=i.cloud_name||t.cloudinary.config().cloud_name,o="https://api.cloudinary.com/v1_1/"+n+"/delete_by_token"),s=t.support.xhrFileUpload?"json":"iframe json",t.ajax({url:o,method:"POST",data:{token:e},headers:{"X-Requested-With":"XMLHttpRequest"},dataType:s})},n.prototype.unsigned_upload_tag=function(e,i,n){return t("<input/>").attr({type:"file",name:"file"}).unsigned_cloudinary_upload(e,i,n)},t.fn.cloudinary_fileupload=function(e){var i,n,s,o,r;return f.isFunction(t.fn.fileupload)?(n=!this.data("blueimpFileupload"),n&&(e=t.extend({maxFileSize:2e7,dataType:"json",headers:{"X-Requested-With":"XMLHttpRequest"}},e)),this.fileupload(e),n&&(this.bind("fileuploaddone",function(e,i){var n,s,o,r;if(!i.result.error)return i.result.path=["v",i.result.version,"/",i.result.public_id,i.result.format?"."+i.result.format:""].join(""),i.cloudinaryField&&i.form.length>0&&(r=[i.result.resource_type,i.result.type,i.result.path].join("/")+"#"+i.result.signature,o=t(e.target).prop("multiple"),n=function(){return t("<input/>").attr({type:"hidden",name:i.cloudinaryField}).val(r).appendTo(i.form)},o?n():(s=t(i.form).find('input[name="'+i.cloudinaryField+'"]'),s.length>0?s.val(r):n())),t(e.target).trigger("cloudinarydone",i)}),this.bind("fileuploadsend",function(t,e){return e.headers=$.extend({},e.headers,{"X-Unique-Upload-Id":(1e10*Math.random()).toString(16)}),!0}),this.bind("fileuploadstart",function(e){return t(e.target).trigger("cloudinarystart")}),this.bind("fileuploadstop",function(e){return t(e.target).trigger("cloudinarystop")}),this.bind("fileuploadprogress",function(e,i){return t(e.target).trigger("cloudinaryprogress",i)}),this.bind("fileuploadprogressall",function(e,i){return t(e.target).trigger("cloudinaryprogressall",i)}),this.bind("fileuploadfail",function(e,i){return t(e.target).trigger("cloudinaryfail",i)}),this.bind("fileuploadalways",function(e,i){return t(e.target).trigger("cloudinaryalways",i)}),this.fileupload("option").url||(i=e.cloud_name||t.cloudinary.config().cloud_name,s=e.resource_type||"auto",o=e.type||"upload",r="https://api.cloudinary.com/v1_1/"+i+"/"+s+"/"+o,this.fileupload("option","url",r))),this):this},t.fn.cloudinary_upload_url=function(e){return f.isFunction(t.fn.fileupload)?(this.fileupload("option","formData").file=e,this.fileupload("add",{files:[e]}),delete this.fileupload("option","formData").file,this):this},t.fn.unsigned_cloudinary_upload=function(e,i,n){var s,o,r,a,l,u;for(null==i&&(i={}),null==n&&(n={}),i=f.cloneDeep(i),n=f.cloneDeep(n),o=["cloud_name","resource_type","type"],a=0;a<o.length;)s=o[a],i[s]&&(n[s]=i[s],delete i[s]),a++;for(l in i)u=i[l],f.isPlainObject(u)?i[l]=t.map(u,function(t,e){return e+"="+t}).join("|"):f.isArray(u)&&(u.length>0&&t.isArray(u[0])?i[l]=t.map(u,function(t){return t.join(",")}).join("|"):i[l]=u.join(","));return i.callback||(i.callback="/cloudinary_cors.html"),i.upload_preset=e,n.formData=i,n.cloudinary_field&&(n.cloudinaryField=n.cloudinary_field,delete n.cloudinary_field),r=n.html||{},r["class"]=f.trim("cloudinary_fileupload "+(r["class"]||"")),n.multiple&&(r.multiple=!0),this.attr(r).cloudinary_fileupload(n),this},t.cloudinary=new n,b={utf8_encode:W,crc32:D,Util:f,Condition:s,Transformation:c,Configuration:o,HtmlTag:r,ImageTag:a,VideoTag:m,Cloudinary:i,VERSION:"2.0.8",CloudinaryJQuery:n}});