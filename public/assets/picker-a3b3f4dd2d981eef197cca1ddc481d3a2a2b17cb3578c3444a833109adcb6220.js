/*!
 * pickadate.js v3.5.6, 2015/04/20
 * By Amsul, http://amsul.ca
 * Hosted on http://amsul.github.io/pickadate.js
 * Licensed under MIT
 */
!function(e){"function"==typeof define&&define.amd?define("picker",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):this.Picker=e(jQuery)}(function(e){function t(r,i,l,f){function m(){return t._.node("div",t._.node("div",t._.node("div",t._.node("div",C.component.nodes(j.open),x.box),x.wrap),x.frame),x.holder,'tabindex="-1"')}function p(){_.data(i,C).addClass(x.input).val(_.data("value")?C.get("select",w.format):r.value),w.editable||_.on("focus."+j.id+" click."+j.id,function(e){e.preventDefault(),C.open()}).on("keydown."+j.id,S),a(r,{haspopup:!0,expanded:!1,readonly:!1,owns:r.id+"_root"})}function h(){a(C.$root[0],"hidden",!0)}function b(){C.$holder.on({keydown:S,"focus.toOpen":y,blur:function(){_.removeClass(x.target)},focusin:function(e){C.$root.removeClass(x.focused),e.stopPropagation()},"mousedown click":function(t){var n=t.target;n!=C.$holder[0]&&(t.stopPropagation(),"mousedown"!=t.type||e(n).is("input, select, textarea, button, option")||(t.preventDefault(),C.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var t=e(this),n=t.data(),o=t.hasClass(x.navDisabled)||t.hasClass(x.disabled),a=d();a=a&&(a.type||a.href),(o||a&&!e.contains(C.$root[0],a))&&C.$holder[0].focus(),!o&&n.nav?C.set("highlight",C.component.item.highlight,{nav:n.nav}):!o&&"pick"in n?(C.set("select",n.pick),w.closeOnSelect&&C.close(!0)):n.clear?(C.clear(),w.closeOnClear&&C.close(!0)):n.close&&C.close(!0)})}function g(){var t;w.hiddenName===!0?(t=r.name,r.name=""):(t=["string"==typeof w.hiddenPrefix?w.hiddenPrefix:"","string"==typeof w.hiddenSuffix?w.hiddenSuffix:"_submit"],t=t[0]+r.name+t[1]),C._hidden=e('<input type=hidden name="'+t+'"'+(_.data("value")||r.value?' value="'+C.get("select",w.formatSubmit)+'"':"")+">")[0],_.on("change."+j.id,function(){C._hidden.value=r.value?C.get("select",w.formatSubmit):""})}function v(){k&&c?C.$holder.find("."+x.frame).one("transitionend",function(){C.$holder[0].focus()}):C.$holder[0].focus()}function y(e){e.stopPropagation(),_.addClass(x.target),C.$root.addClass(x.focused),C.open()}function S(e){var t=e.keyCode,n=/^(8|46)$/.test(t);return 27==t?(C.close(!0),!1):void((32==t||n||!j.open&&C.component.key[t])&&(e.preventDefault(),e.stopPropagation(),n?C.clear().close():C.open()))}if(!r)return t;var k=!1,j={id:r.id||"P"+Math.abs(~~(Math.random()*new Date))},w=l?e.extend(!0,{},l.defaults,f):f||{},x=e.extend({},t.klasses(),w.klass),_=e(r),E=function(){return this.start()},C=E.prototype={constructor:E,$node:_,start:function(){return j&&j.start?C:(j.methods={},j.start=!0,j.open=!1,j.type=r.type,r.autofocus=r==d(),r.readOnly=!w.editable,r.id=r.id||j.id,"text"!=r.type&&(r.type="text"),C.component=new l(C,w),C.$root=e('<div class="'+x.picker+'" id="'+r.id+'_root" />'),h(),C.$holder=e(m()).appendTo(C.$root),b(),w.formatSubmit&&g(),p(),w.containerHidden?e(w.containerHidden).append(C._hidden):_.after(C._hidden),w.container?e(w.container).append(C.$root):_.after(C.$root),C.on({start:C.component.onStart,render:C.component.onRender,stop:C.component.onStop,open:C.component.onOpen,close:C.component.onClose,set:C.component.onSet}).on({start:w.onStart,render:w.onRender,stop:w.onStop,open:w.onOpen,close:w.onClose,set:w.onSet}),k=n(C.$holder[0]),r.autofocus&&C.open(),C.trigger("start").trigger("render"))},render:function(t){return t?(C.$holder=e(m()),b(),C.$root.html(C.$holder)):C.$root.find("."+x.box).html(C.component.nodes(j.open)),C.trigger("render")},stop:function(){return j.start?(C.close(),C._hidden&&C._hidden.parentNode.removeChild(C._hidden),C.$root.remove(),_.removeClass(x.input).removeData(i),setTimeout(function(){_.off("."+j.id)},0),r.type=j.type,r.readOnly=!1,C.trigger("stop"),j.methods={},j.start=!1,C):C},open:function(n){return j.open?C:(_.addClass(x.active),a(r,"expanded",!0),setTimeout(function(){C.$root.addClass(x.opened),a(C.$root[0],"hidden",!1)},0),n!==!1&&(j.open=!0,k&&u.css("overflow","hidden").css("padding-right","+="+o()),v(),s.on("click."+j.id+" focusin."+j.id,function(e){var t=e.target;t!=r&&t!=document&&3!=e.which&&C.close(t===C.$holder[0])}).on("keydown."+j.id,function(n){var o=n.keyCode,a=C.component.key[o],r=n.target;27==o?C.close(!0):r!=C.$holder[0]||!a&&13!=o?e.contains(C.$root[0],r)&&13==o&&(n.preventDefault(),r.click()):(n.preventDefault(),a?t._.trigger(C.component.key.go,C,[t._.trigger(a)]):C.$root.find("."+x.highlighted).hasClass(x.disabled)||(C.set("select",C.component.item.highlight),w.closeOnSelect&&C.close(!0)))})),C.trigger("open"))},close:function(e){return e&&(w.editable?r.focus():(C.$holder.off("focus.toOpen").focus(),setTimeout(function(){C.$holder.on("focus.toOpen",y)},0))),_.removeClass(x.active),a(r,"expanded",!1),setTimeout(function(){C.$root.removeClass(x.opened+" "+x.focused),a(C.$root[0],"hidden",!0)},0),j.open?(j.open=!1,k&&u.css("overflow","").css("padding-right","-="+o()),s.off("."+j.id),C.trigger("close")):C},clear:function(e){return C.set("clear",null,e)},set:function(t,n,o){var a,r,i=e.isPlainObject(t),d=i?t:{};if(o=i&&e.isPlainObject(n)?n:o||{},t){i||(d[t]=n);for(a in d)r=d[a],a in C.component.item&&(void 0===r&&(r=null),C.component.set(a,r,o)),"select"!=a&&"clear"!=a||_.val("clear"==a?"":C.get(a,w.format)).trigger("change");C.render()}return o.muted?C:C.trigger("set",d)},get:function(e,n){if(e=e||"value",null!=j[e])return j[e];if("valueSubmit"==e){if(C._hidden)return C._hidden.value;e="value"}if("value"==e)return r.value;if(e in C.component.item){if("string"==typeof n){var o=C.component.get(e);return o?t._.trigger(C.component.formats.toString,C.component,[n,o]):""}return C.component.get(e)}},on:function(t,n,o){var a,r,i=e.isPlainObject(t),d=i?t:{};if(t){i||(d[t]=n);for(a in d)r=d[a],o&&(a="_"+a),j.methods[a]=j.methods[a]||[],j.methods[a].push(r)}return C},off:function(){var e,t,n=arguments;for(e=0,namesCount=n.length;e<namesCount;e+=1)t=n[e],t in j.methods&&delete j.methods[t];return C},trigger:function(e,n){var o=function(e){var o=j.methods[e];o&&o.map(function(e){t._.trigger(e,C,[n])})};return o("_"+e),o(e),C}};return new E}function n(e){var t,n="position";return e.currentStyle?t=e.currentStyle[n]:window.getComputedStyle&&(t=getComputedStyle(e)[n]),"fixed"==t}function o(){if(u.height()<=l.height())return 0;var t=e('<div style="visibility:hidden;width:100px" />').appendTo("body"),n=t[0].offsetWidth;t.css("overflow","scroll");var o=e('<div style="width:100%" />').appendTo(t),a=o[0].offsetWidth;return t.remove(),n-a}function a(t,n,o){if(e.isPlainObject(n))for(var a in n)r(t,a,n[a]);else r(t,n,o)}function r(e,t,n){e.setAttribute(("role"==t?"":"aria-")+t,n)}function i(t,n){e.isPlainObject(t)||(t={attribute:n}),n="";for(var o in t){var a=("role"==o?"":"aria-")+o,r=t[o];n+=null==r?"":a+'="'+t[o]+'"'}return n}function d(){try{return document.activeElement}catch(e){}}var l=e(window),s=e(document),u=e(document.documentElement),c=null!=document.documentElement.style.transition;return t.klasses=function(e){return e=e||"picker",{picker:e,opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},t._={group:function(e){for(var n,o="",a=t._.trigger(e.min,e);a<=t._.trigger(e.max,e,[a]);a+=e.i)n=t._.trigger(e.item,e,[a]),o+=t._.node(e.node,n[0],n[1],n[2]);return o},node:function(t,n,o,a){return n?(n=e.isArray(n)?n.join(""):n,o=o?' class="'+o+'"':"",a=a?" "+a:"","<"+t+o+a+">"+n+"</"+t+">"):""},lead:function(e){return(10>e?"0":"")+e},trigger:function(e,t,n){return"function"==typeof e?e.apply(t,n||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return{}.toString.call(e).indexOf("Date")>-1&&this.isInteger(e.getDate())},isInteger:function(e){return{}.toString.call(e).indexOf("Number")>-1&&e%1===0},ariaAttr:i},t.extend=function(n,o){e.fn[n]=function(a,r){var i=this.data(n);return"picker"==a?i:i&&"string"==typeof a?t._.trigger(i[a],i,[r]):this.each(function(){var r=e(this);r.data(n)||new t(this,n,o,a)})},e.fn[n].defaults=o.defaults},t});